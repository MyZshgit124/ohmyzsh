#compdef opswd

function _opswd() {
  local -a services
  services=("${(@f)$(op item list --categories Login 2>/dev/null | op item get - --fields title 2>/dev/null)}")
  [[ -z "$services" ]] || compadd -a -- services
}

_opswd "$@"
