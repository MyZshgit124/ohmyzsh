#compdef opswd

function _opswd() {
  local -a services
  services=("${(@f)$(op item list --categories Login --cache 2>/dev/null | awk 'NR != 1 { print $2 }')}")
  [[ -z "$services" ]] || compadd -a -- services
}

_opswd "$@"
